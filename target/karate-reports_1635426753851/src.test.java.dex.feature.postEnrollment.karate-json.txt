{"failedCount":1,"prefixedPath":"src\/test\/java\/dex\/feature\/postEnrollment.feature","packageQualifiedName":"src.test.java.dex.feature.postEnrollment","loopIndex":-1,"relativePath":"src\/test\/java\/dex\/feature\/postEnrollment.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":474000,"millis":0.474,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":93887500,"millis":93.8875,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Authorization = call read('basic-auth.js')"}},{"result":{"nanos":57773000,"millis":57.773,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def req_headers = {Content-Type: 'application\/xml', X-Correlation-Id: '123456'}"}},{"result":{"nanos":23516300,"millis":23.5163,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def payload1 = read('classpath:dex\/data\/enrollmentService.xml')"}},{"result":{"nanos":9538700,"millis":9.5387,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def getDate = karate.read('getCurrentTime.js')"}},{"result":{"nanos":11231400,"millis":11.2314,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def ref_id = getDate()"}},{"result":{"nanos":5187300,"millis":5.1873,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"print '=====Reference Id is======:', ref_id"},"stepLog":"09:11:01.067 [print] =====Reference Id is======: 20211028091101 \n"},{"result":{"nanos":23348200,"millis":23.3482,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"set payload1 \/EnrollmentCensusRequest\/fileMetaData\/masterPolicyNumber = 'MP0000783678'"}},{"result":{"nanos":1198300,"millis":1.1983,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"set payload1 \/EnrollmentCensusRequest\/enrollmentCensusRecords\/referenceID = ref_id"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":16,"prefix":"Given","index":2,"text":"request payload1"}},{"result":{"nanos":7416600,"millis":7.4166,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"path 'policy-group-enrollment-rs\/v1\/enrollment\/MP0000783678\/deploy\/'"}},{"result":{"nanos":853500,"millis":0.8535,"status":"passed"},"step":{"line":18,"prefix":"And","index":4,"text":"headers req_headers"}},{"result":{"nanos":603021400,"millis":603.0214,"status":"passed"},"step":{"line":19,"prefix":"When","index":5,"text":"method POST"},"stepLog":"09:11:01.563 request:\n1 > POST http:\/\/aws07wflapp02.aws07.wfl.cloud:8080\/wfl-app\/services\/policy-group-enrollment-rs\/v1\/enrollment\/MP0000783678\/deploy\/\n1 > Authorization: Basic cWE6cWE=\n1 > Content-Type: application\/xml; charset=UTF-8\n1 > X-Correlation-Id: 123456\n1 > Content-Length: 5181\n1 > Host: aws07wflapp02.aws07.wfl.cloud:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n<EnrollmentCensusRequest>\r\n    <fileMetaData>\r\n        <masterPolicyNumber>MP0000783678<\/masterPolicyNumber>\r\n        <participantCount>1<\/participantCount>\r\n        <timestamp>2021-04-16T00:00:01<\/timestamp>\r\n        <fileIdentifier>None<\/fileIdentifier>\r\n    <\/fileMetaData>\r\n    <enrollmentCensusRecords>\r\n        <referenceID>20211028091101<\/referenceID>\r\n        <certificate>\r\n            <effectiveDt>2021-09-01T00:00:00<\/effectiveDt>\r\n            <coverages>\r\n                <participants>\r\n                    <personOID>1<\/personOID>\r\n                    <roleName>PRIMARY_P<\/roleName>\r\n                    <relationshipToInsured>SELF<\/relationshipToInsured>\r\n                <\/participants>\r\n                <memberPaymentModeCd>12<\/memberPaymentModeCd>\r\n                <coverageCd>accident_3<\/coverageCd>\r\n                <planCd>plan_3<\/planCd>\r\n                <coverageTierCd>\r\n                    <tiersType>EEF<\/tiersType>\r\n                <\/coverageTierCd>\r\n                <enrollmentDt>2021-01-01T00:00:00<\/enrollmentDt>\r\n            <\/coverages>\r\n            <primaryParticipant>\r\n                <personOID>1<\/personOID>\r\n                <relationship>\r\n                    <employment>\r\n                        <employeeId>1<\/employeeId>\r\n                        <employmentStatus>ACT<\/employmentStatus>\r\n                        <jobTitle>Test<\/jobTitle>\r\n                        <originalHireDt>2000-01-01T00:00:00<\/originalHireDt>\r\n                        <payrollFreq>BIWEEKLY<\/payrollFreq>\r\n                        <salaryAmt>10000.00<\/salaryAmt>\r\n                        <locationId>001<\/locationId>\r\n                    <\/employment>\r\n                    <classificationGroup>\r\n                        <code>001<\/code>\r\n                    <\/classificationGroup>\r\n                <\/relationship>\r\n            <\/primaryParticipant>\r\n            <enrollmentType>ANNUAL<\/enrollmentType>\r\n        <\/certificate>\r\n        <allParticipants>\r\n            <oid>1<\/oid>\r\n            <firstName>Person 1<\/firstName>\r\n            <lastName>Test<\/lastName>\r\n            <middleName\/>\r\n            <maritalStatusCd>M<\/maritalStatusCd>\r\n            <gender>MALE<\/gender>\r\n            <dob>1958-01-01T00:00:00<\/dob>\r\n            <taxId>000-00-0010<\/taxId>\r\n            <email\/>\r\n            <addresses>\r\n                <addressType>residence<\/addressType>\r\n                <addressLine1>asd<\/addressLine1>\r\n                <addressLine2> <\/addressLine2>\r\n                <zipCode>11111<\/zipCode>\r\n                <city>asd<\/city>\r\n                <state>CO<\/state>\r\n                <country>US<\/country>\r\n            <\/addresses>\r\n        <\/allParticipants>\r\n    <\/enrollmentCensusRecords>\r\n    <enrollmentCensusRecords>\r\n        <referenceID>MP0001042570::5<\/referenceID>\r\n        <certificate>\r\n            <effectiveDt>2021-09-01T00:00:00<\/effectiveDt>\r\n            <coverages>\r\n                <participants>\r\n                    <personOID>1<\/personOID>\r\n                    <roleName>PRIMARY_P<\/roleName>\r\n                    <relationshipToInsured>SELF<\/relationshipToInsured>\r\n                <\/participants>\r\n                <memberPaymentModeCd>12<\/memberPaymentModeCd>\r\n                <coverageCd>accident_1<\/coverageCd>\r\n                <planCd>plan_1<\/planCd>\r\n                <coverageTierCd>\r\n                    <tiersType>EEF<\/tiersType>\r\n                <\/coverageTierCd>\r\n                <enrollmentDt>2021-01-01T00:00:00<\/enrollmentDt>\r\n            <\/coverages>\r\n            <primaryParticipant>\r\n                <personOID>1<\/personOID>\r\n                <relationship>\r\n                    <employment>\r\n                        <employeeId>1<\/employeeId>\r\n                        <employmentStatus>ACT<\/employmentStatus>\r\n                        <jobTitle>1231234567899876543212345678909876543212345677889056896534232345677654335678<\/jobTitle>\r\n                        <originalHireDt>2000-01-01T00:00:00<\/originalHireDt>\r\n                        <payrollFreq>BIWEEKLY<\/payrollFreq>\r\n                        <salaryAmt>10000.00<\/salaryAmt>\r\n                    <\/employment>\r\n                    <classificationGroup>\r\n                        <code>1<\/code>\r\n                    <\/classificationGroup>\r\n                <\/relationship>\r\n            <\/primaryParticipant>\r\n            <enrollmentType>ANNUAL<\/enrollmentType>\r\n        <\/certificate>\r\n        <allParticipants>\r\n            <oid>1<\/oid>\r\n            <firstName>Person 5<\/firstName>\r\n            <lastName>Test<\/lastName>\r\n            <middleName\/>\r\n            <maritalStatusCd>M<\/maritalStatusCd>\r\n            <gender>MALE<\/gender>\r\n            <dob>1958-01-01T00:00:00<\/dob>\r\n            <taxId>000-22-0009<\/taxId>\r\n            <email\/>\r\n            <addresses>\r\n                <addressType>residence<\/addressType>\r\n                <addressLine1>asd<\/addressLine1>\r\n                <addressLine2> <\/addressLine2>\r\n                <zipCode>11111<\/zipCode>\r\n                <city>asd<\/city>\r\n                <state>CO<\/state>\r\n                <country>US<\/country>\r\n            <\/addresses>\r\n        <\/allParticipants>\r\n    <\/enrollmentCensusRecords>\r\n<\/EnrollmentCensusRequest>\n\n09:11:01.703 response time in milliseconds: 134\n1 < 200\n1 < Content-Language: en\n1 < Date: Thu, 28 Oct 2021 13:11:01 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n{\"date\":null,\"records\":null,\"participantCount\":null,\"policyNumber\":\"MP0000783678\",\"statusMessage\":null}\n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":20,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1801300,"millis":1.8013,"status":"passed"},"step":{"line":21,"prefix":"Then","index":7,"text":"print response"},"stepLog":"09:11:01.707 [print] {\n  \"date\": null,\n  \"records\": null,\n  \"participantCount\": null,\n  \"policyNumber\": \"MP0000783678\",\n  \"statusMessage\": null\n}\n \n"},{"result":{"nanos":1246300,"millis":1.2463,"status":"passed"},"step":{"line":23,"prefix":"*","index":8,"text":"print '=========Validating field values in response================= :'"},"stepLog":"09:11:01.709 [print] =========Validating field values in response================= : \n"},{"result":{"nanos":9458700,"millis":9.4587,"status":"passed"},"step":{"line":24,"prefix":"*","index":9,"text":"match response.policyNumber == 'MP0000783678'"}}],"line":27,"description":"","durationMillis":850.0264,"failed":false,"tags":["reg"],"executorName":"main","name":"Validate post enrollment service for given master policy number : MP0000783678","startTime":1635426660682,"refId":"[1.1:27]","endTime":1635426661719,"exampleData":{"Policy_number":"MP0000783678"},"exampleIndex":0},{"sectionIndex":1,"stepResults":[{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"}},{"result":{"nanos":1367600,"millis":1.3676,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"header Authorization = call read('basic-auth.js')"}},{"result":{"nanos":387900,"millis":0.3879,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def req_headers = {Content-Type: 'application\/xml', X-Correlation-Id: '123456'}"}},{"result":{"nanos":4705100,"millis":4.7051,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def payload1 = read('classpath:dex\/data\/enrollmentService.xml')"}},{"result":{"nanos":739000,"millis":0.739,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def getDate = karate.read('getCurrentTime.js')"}},{"result":{"nanos":1170500,"millis":1.1705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def ref_id = getDate()"}},{"result":{"nanos":763300,"millis":0.7633,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"print '=====Reference Id is======:', ref_id"},"stepLog":"09:11:01.737 [print] =====Reference Id is======: 20211028091101 \n"},{"result":{"nanos":738100,"millis":0.7381,"status":"passed"},"step":{"line":31,"prefix":"Given","index":0,"text":"path 'policy-group-enrollment-rs\/v1\/enrollment\/MP0000707203\/status'"}},{"result":{"nanos":121303200,"millis":121.3032,"status":"passed"},"step":{"line":32,"prefix":"When","index":1,"text":"method GET"},"stepLog":"09:11:01.741 request:\n1 > GET http:\/\/aws07wflapp02.aws07.wfl.cloud:8080\/wfl-app\/services\/policy-group-enrollment-rs\/v1\/enrollment\/MP0000707203\/status\n1 > Authorization: Basic cWE6cWE=\n1 > Host: aws07wflapp02.aws07.wfl.cloud:8080\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n09:11:01.860 response time in milliseconds: 118\n1 < 422\n1 < Content-Language: en\n1 < Date: Thu, 28 Oct 2021 13:11:02 GMT\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Transfer-Encoding: chunked\n{\"errorCode\":\"ENR005\",\"message\":\"There are no enrollee records for Master Policy\"}\n"},{"result":{"nanos":169700,"errorMessage":"status code was: 422, expected: 200, response time in milliseconds: 118, url: http:\/\/aws07wflapp02.aws07.wfl.cloud:8080\/wfl-app\/services\/policy-group-enrollment-rs\/v1\/enrollment\/MP0000707203\/status, response: \n{\n  \"errorCode\" : \"ENR005\",\n  \"message\" : \"There are no enrollee records for Master Policy\"\n}\nsrc\/test\/java\/dex\/feature\/postEnrollment.feature:33","millis":0.1697,"status":"failed"},"step":{"line":33,"prefix":"Then","index":2,"text":"status 200"},"stepLog":"09:11:01.861 src\/test\/java\/dex\/feature\/postEnrollment.feature:33\nThen status 200\nstatus code was: 422, expected: 200, response time in milliseconds: 118, url: http:\/\/aws07wflapp02.aws07.wfl.cloud:8080\/wfl-app\/services\/policy-group-enrollment-rs\/v1\/enrollment\/MP0000707203\/status, response: \n{\n  \"errorCode\" : \"ENR005\",\n  \"message\" : \"There are no enrollee records for Master Policy\"\n}\nsrc\/test\/java\/dex\/feature\/postEnrollment.feature:33\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"Then","index":3,"text":"print response"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"*","index":4,"text":"print '=========Validating field values in response================= :'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"*","index":5,"text":"match response.policyNumber == 'MP0000707203'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"When","index":6,"text":"def outputData = []"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"And","index":7,"text":"eval for(vr i=0;i<response.records.length;i++) if(response.records[i].referenceId.endsWith(ref_id)) outputData.add(response.records[i].status)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Then","index":8,"text":"print outputData"}}],"line":44,"description":"","durationMillis":131.3653,"failed":true,"error":"status code was: 422, expected: 200, response time in milliseconds: 118, url: http:\/\/aws07wflapp02.aws07.wfl.cloud:8080\/wfl-app\/services\/policy-group-enrollment-rs\/v1\/enrollment\/MP0000707203\/status, response: \n{\n  \"errorCode\" : \"ENR005\",\n  \"message\" : \"There are no enrollee records for Master Policy\"\n}\nsrc\/test\/java\/dex\/feature\/postEnrollment.feature:33","tags":["reg"],"executorName":"main","name":"Validate get master policy details for given Policy number : MP0000707203","startTime":1635426661726,"refId":"[2.1:44]","endTime":1635426661861,"exampleData":{"Policy_number":"MP0000707203"},"exampleIndex":0}],"callDepth":0,"name":"Posting enrollment details through POST call in wfl-claims-rs Core Services","description":"","resultDate":"2021-10-28 09:11:01 AM","durationMillis":981.3917,"passedCount":1}